let locale = {
	moduleType:"locale",
	name:"es",
	dictionary:{
		Autoscale:"Autoescalar",
		"Box Select":"Seleccionar Caja",
		"Click to enter Colorscale title":"Introducir el t\xedtulo de la Escala de Color",
		"Click to enter Component A title":"Introducir el t\xedtulo del Componente A",
		"Click to enter Component B title":"Introducir el t\xedtulo del Componente B",
		"Click to enter Component C title":"Introducir el t\xedtulo del Componente C",
		"Click to enter Plot title":"Introducir el t\xedtulo de la Gr\xe1fica",
		"Click to enter X axis title":"Introducir el t\xedtulo del eje X",
		"Click to enter Y axis title":"Introducir el t\xedtulo del eje Y",
		"Click to enter radial axis title":"Introducir el t\xedtulo del eje radial",
		"Compare data on hover":"Comparar datos al pasar por encima",
		"Double-click on legend to isolate one trace":"Haga doble-clic en la leyenda para aislar una traza",
		"Double-click to zoom back out":"Haga doble-clic para restaurar la escala",
		"Download plot as a png":"Descargar gr\xe1fico como png",
		"Download plot":"Descargar gr\xe1fico",
		"Edit in Chart Studio":"Editar en Chart Studio",
		"IE only supports svg.  Changing format to svg.":"IE solo soporta svg. Cambiando formato a svg.",
		"Lasso Select":"Seleccionar con lazo",
		"Orbital rotation":"Rotaci\xf3n esf\xe9rica",
		Pan:"Desplazarse",
		"Produced with Plotly.js":"Hecho con Plotly.js",
		Reset:"Reiniciar",
		"Reset axes":"Reiniciar ejes",
		"Reset camera to default":"Restaurar c\xe1mara predeterminada",
		"Reset camera to last save":"Restaurar anterior c\xe1mara",
		"Reset view":"Restaurar vista",
		"Reset views":"Restaurar vistas",
		"Show closest data on hover":"Mostrar el dato m\xe1s cercano al pasar por encima",
		"Snapshot succeeded":"Gr\xe1fico guardado correctamente",
		"Sorry, there was a problem downloading your snapshot!":"\xa1La descarga del gr\xe1fico fall\xf3!",
		"Taking snapshot - this may take a few seconds":"Guardando gr\xe1fico - podr\xeda tardar unos segundos",
		"Toggle Spike Lines":"Mostrar/Ocultar Gu\xedas",
		"Toggle show closest data on hover":"Activar/Desactivar mostrar el dato m\xe1s cercano al pasar por encima",
		"Turntable rotation":"Rotaci\xf3n plana",
		Zoom:"Modo Ampliar/Reducir",
		"Zoom in":"Ampliar",
		"Zoom out":"Reducir",
		"close:":"cierre:",
		"high:":"alza:",
		"incoming flow count:":"flujo de entrada:",
		"kde:":"edp:",
		"lat:":"lat:",
		"lon:":"lon:",
		"low:":"baja:",
		"lower fence:":"l\xedmite inferior:",
		"max:":"m\xe1x:",
		"mean \xb1 \u03c3:":"media \xb1 \u03c3:",
		"mean:":"media:",
		"median:":"mediana:",
		"min:":"m\xedn:",
		"new text":"nuevo texto",
		"open:":"apertura:",
		"outgoing flow count:":"flujo de salida:",
		"q1:":"q1:",
		"q3:":"q3:",
		"source:":"fuente:",
		"target:":"destino:",
		trace:"traza",
		"upper fence:":"l\xedmite superior:"
	},
	format:{
		days:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],
		shortDays:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],
		months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],
		shortMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],
		date:"%d/%m/%Y",
		decimal:".",
		thousands:","
	}
}
typeof Plotly=="undefined"?(window.PlotlyLocales=window.PlotlyLocales||[],window.PlotlyLocales.push(locale)):Plotly.register(locale);
Plotly.setPlotConfig({locale:"es"})
let A = [
	document.getElementById("trgdfvzxcvgjfgg"),	// 0 Main
	document.getElementById("ioasjzknwdqwads"),	// 1 Aside
	document.getElementById("gefgdfgxwegsdss"),	// 2 Section
];
let B = [
	document.getElementById("izxkjshjasdzzta"),	// 0 Contenedor de los acordiones
	document.getElementById("vbcbcvbfregtrfs"),	// 1 Div para lineas guardadas
	document.getElementById("yuiqweoqxcaqewt"),	// 2 Div para los puntos guardados
	document.getElementById("hajzxbqaopqjhav")	// 3 Boton borrar todo
];
let C = [
	document.getElementById("fdfxcaasfgxcxqk"),	// 0
	document.getElementById("yasgjhzxhjhaqhd"),	// 1
	document.getElementById("hjbzakkzxjkaiaj"),	// 2
	document.getElementById("jyuaiujszxccqfd"),	// 3
	document.getElementById("masdjkzxcoqacjs"),	// 4
	document.getElementById("eqweoiaskjznaqa"),	// 5
	document.getElementById("wtyauizxjhghqqq"),	// 6
	document.getElementById("wsjkzoopalzkqwa")	// 7
];
let D = [
	document.getElementById("tytfgcvsazxcsda"),	// 0
	document.getElementById("ghexvkjkibmvvcx"),	// 1
	document.getElementById("fbdcvasdfcxazxg"),	// 2
	document.getElementById("ghwefgouidfgzxb"),	// 3
	document.getElementById("yujasaxozxjhszx"),	// 4
	document.getElementById("fgsdfasdzxcadax"),	// 5
	document.getElementById("jaksjcuizxuimng")	// 6
];
let E = document.getElementById("htyftrghdfx");	// 
let F = document.getElementById("rtqweqwasqd");	// Contenedor grafico
let G = [
	document.getElementById("uuiasnjqlkppaws"),	// 0 Boton para abrir ventana de ingresar datos
	document.getElementById("nfgdwerfsdfxcvs"),	// 1 Ventana
	document.getElementById("ddxcvderhhgfdcs"),	// 2 Titulo de la ventana
	document.getElementById("ioanzknasjzbndf"),	// 3 Input
	document.getElementById("cuqiwasjkasnaks"),	// 4 Boton para mandar los datos
	document.getElementById("ywqwdkjhzdcidao"),	// 5 Spinner
	document.getElementById("pdiqfsdhjqjqkis"),	// 6 Label
	document.getElementById("rijwduhasdjhaja"),	// 7 Mensaje de error
	document.getElementById("ghdfgsdwetqsdgf")	// 8 Boton menu
];
let H = [
	document.getElementById("uashjqbnaskjsaa"),	// 0 Boton para abrir ventana de mostrar mensaje
	document.getElementById("kjhrtfhdfgwsfgx"),	// 1 Titulo de la ventana de mensaje
	document.getElementById("yuwqdjkhasbnmzx")	// 2 Cuerpo del mensaje
];
let S,T;
let U = [
	document.getElementById("rvbdfkjhjhhjjje"),	// 0 Contenedor sistema de unidades
	document.getElementById("mewfsdferfdfgsw")	// 1 Select sistema de unidades
];
let V = [
	document.getElementById("nesdfhrtgfddwfd"),	// 0 Contenedor altura sobre el nivel del mar
	document.getElementById("cwqffdcfdfdsqwd"),	// 1 Input
	document.getElementById("jghrthdsdujhbhf"),	// 2 Label
	document.getElementById("fgtdfgeryjhdfdw")	// 3 Error
];
let W=null,X,Y,Z;
window.addEventListener("load",() =>{
	a1();
	if(localStorage.getItem("CaddoMohammed-CartaPsicrometrica")===null){
		U[1].value = 2;
		V[1].value = 0;
		a2(true);
	} else {
		T = localStorage.getItem("CaddoMohammed-CartaPsicrometrica")
		T = JSON.parse(T);
		if(T.F===false){
			U[1].value = 1;
		}
		else{
			U[1].value = 2;
		}
		V[1].value = T.E;
		a2(false);
		b2(T);
	}
});
window.addEventListener('resize',() => a1());
U[1].addEventListener("change",() => a2(true));
V[1].addEventListener("input",() => a3());
document.addEventListener("keydown", (z) => c1(z));
G[3].addEventListener("input",() => c3(S));
function a1(){
	let a = window.innerHeight;
	let b = window.innerWidth;
	if(b<768){
		U[0].classList.add("mb-3");
		V[1].classList.add("mb-3");
	}
	else {
		U[0].classList.remove("mb-3");
		V[1].classList.remove("mb-3");
	}
	if((a<420)&&(b>=1.5*420)){
		A[1].className = "d-flex flex-column justify-content-start align-items-stretch";
		A[2].className = "d-flex flex-column justify-content-start p-2";
		A[1].style.height = "100%";
		A[2].style.minHeight = "100%";
		A[1].style.width = "50vw";
		A[2].style.width = "50vw";
		A[1].style.removeProperty("min-height");
		A[2].style.removeProperty("flex-grow");
		A[2].style.removeProperty("min-width");
		A[1].style.overflow = "auto";
	}
	else{
		if(window.innerWidth<(420+20+0.58*b)){
			A[1].className = "d-flex flex-column justify-content-start align-items-stretch flex-grow-1";
			A[2].className = "d-flex flex-column justify-content-start flex-grow-1 p-2";
			A[1].style.minHeight = "50%";
			A[2].style.minHeight = "50%";
			A[1].style.width = "100%";
			A[2].style.width = "100%";
			A[1].style.removeProperty("overflow");
			A[1].style.removeProperty("height");
		}
		else{
			A[1].className = "d-flex flex-column justify-content-start align-items-stretch";
			A[2].className = "d-flex flex-column justify-content-start p-2";
			A[1].style.height = "100%";
			A[2].style.minHeight = "100%";
			A[1].style.width = "420px";
			if(0.35*b<420){
				A[1].style.width = "35vw";
			}
			A[2].style.minWidth = "50vw";
			A[1].style.overflow = "auto";
			A[2].style.flexGrow = 10;
			A[2].style.removeProperty("width");
		}
	}
}
function a2(x){
	switch(U[1].value){
		default:
			U[1].classList.add("is-invalid");
			V[1].placeholder = "";
			V[2].innerHTML = "";
			break;
		case "1":
			U[1].classList.remove("is-invalid");
			V[1].min = -16500;
			V[1].max = 36000;
			V[1].placeholder = "Altura sobre el nivel del mar <em>(ft)</em>";
			V[2].innerHTML = "Altura sobre el nivel del mar <em>(ft)</em>";
			break;
		case "2":
			U[1].classList.remove("is-invalid");
			V[1].min = -5000;
			V[1].max = 11000;
			V[1].placeholder = "Altura sobre el nivel del mar <em>(m)</em>";
			V[2].innerHTML = "Altura sobre el nivel del mar <em>(m)</em>";
			break;
	}
	if(x===true){
		a3();
	}
}
function a3(){
	clearTimeout(W);
	W = setTimeout(() => {
		if(isNaN(V[1].value)){
			V[1].classList.add("is-invalid");
			V[3].innerHTML = "Solamente números";
			return;
		}
		if((Number(V[1].value)==0)&&(V[1].value!=="0")){
			V[1].classList.add("is-invalid");
			V[3].innerHTML = "Ingrese un carácter valido";
			return;
		}
		switch(U[1].value){
			case "0":
				return;
			case "1":
				if(V[1].value<-16500){
					V[1].classList.add("is-invalid");
					V[3].innerHTML = "El mínimo es de -16,500 ft";
					return;
				}
				if(V[1].value>36000){
					V[1].classList.add("is-invalid");
					V[3].innerHTML = "El máximo es de 36,000 ft";
					return;
				}
				break;
			case "2":
				if(V[1].value<-5000){
					V[1].classList.add("is-invalid");
					V[3].innerHTML = "El mínimo es de -5,000 m";
					return;
				}
				if(V[1].value>11000){
					V[1].classList.add("is-invalid");
					V[3].innerHTML = "El máximo es de 11,000 m";
					return;
				}
				break;
		}
		V[1].classList.remove("is-invalid");
		V[3].innerHTML = "";
		b1();
	},700);
}
function b1(){
	let a = document.createElement("div");
	a.style.position = "absolute";
	a.style.top = "50%";
	a.style.left = "50%";
	a.className = "z-3"
	a.style.transform = "translate(-50%,-50%)";
	a.innerHTML = `
	<div class="spinner-border text-primary" role="status" style="width:5rem; height:5rem;">
		<span class="visually-hidden">Loading...</span>
	</div>`;
	F.appendChild(a);
	fetch("https://cartapsicrometrica-a00-774000747273.us-central1.run.app/rreszdzxvffgsdfcxcasa",{
		method:"POST",
		headers: {
			"Content-Type":"application/json"
		},
		body: JSON.stringify({A:Number(U[1].value),B:Number(V[1].value)}),
	})
	.then(V => V.json())
	.then(x => {
		F.innerHTML = "";
		T = x;
		localStorage.setItem("CaddoMohammed-CartaPsicrometrica",JSON.stringify(T));
		b2(x);
	})
	.catch(c => {
		console.error(c);
	});
}
function b2(x){
	Plotly.purge(F);
	let a,b,c,d,e,f,g,h,z=[];
	if(x.F){
		a = "m<sup>3</sup>/kg<sub>da</sub>";
		b = "kJ/kg<sub>da</sub>";
		c = "°C";
		if(x.E===0){
			d = [-60,90];
			e = [0,50];
			f = 50;
			g = [0,30];
		}
		else{
			d = [-60,90];
			e = [-60,90];
			f = 100;
			g = [0,100];
		}
		h = "Carta Psicrométrica en el sistema internacional";
	}
	else{
		a = "ft<sup>3</sup>/lb<sub>da</sub>";
		b = "Btu/lb<sub>da</sub>";
		c = "°F";
		if(x.E===0){
			d = [-80,150];
			e = [32,120];
			f = 0.05;
			g = [0,0.03];
		}
		else{
			d = [-80,200];
			e = [-50,120];
			f = 0.1;
			g = [0,0.05];
		}
		h = "Carta Psicrométrica en el sistema inglés";
	}
	for(let i=0;i<x.A[1].length;i++){
		z.push({
			x:x.A[0][i],
			y:x.A[1][i],
			mode:"lines",
			line:{
				color:"#000000",
				width:0.8
			},
			name:`H.R. = ${x.A[2][i]} %`
		});
	}
	for(let i=0;i<x.B[1].length;i++){
		z.push({
			x:x.B[0][i],
			y:x.B[1][i],
			mode:"lines",
			line:{
				color:"#000000",
				width:0.8
			},
			name:`${x.B[2][i]} ${a}`
		});
	}
	for(let i=0;i<x.C[1].length;i++){
		z.push({
			x:x.C[0][i],
			y:x.C[1][i],
			mode:"lines",
			line:{
				color:"#000000",
				width:0.8
			},
			name:`${x.C[2][i]} ${b}`
		});
	}
	z.push({
		x:x.C[3],
		y:x.C[4],
		mode:"lines",
		line:{
			color:"#000000",
			width:0.8
		}
	});
	for(let i=0;i<x.D[1].length;i++){
		z.push({
			x:x.D[0][i],
			y:x.D[1][i],
			mode:"lines",
			line:{
				dash:"dashdot",
				color:"#000000",
				width:0.5
			},
			name:`T.b.h. = ${x.D[2][i]+c}}`
		});
	}
	X = z;
	Y = {
		xaxis:{
			title:`Temperatura de bulbo seco (${c})`,
			minallowed:d[0],
			maxallowed:d[1],
			showgrid:true,
			zeroline:true,
			showline:true,
			mirror:"ticks",
			gridcolor:'#bdbdbd',
			gridwidth:1,
			zerolinecolor:"#969696",
			zerolinewidth:1,
			linecolor:"#636363",
			linewidth:1,
			tickmode:"auto",
			dtick:0.1,
			ticklen:10,
			minor:{
				ticklen:5,
				nticks:10,
			},
			mirror:true,
			rangemode:"tozero",
			range:e
		},
		yaxis:{
			title:"Humedad específica",
			minallowed:0,
			maxallowed:f,
			showgrid:true,
			zeroline:true,
			showline:true,
			mirror:"ticks",
			gridcolor:"#bdbdbd",
			gridwidth:1,
			zerolinecolor:"#969696",
			zerolinewidth:1,
			linecolor:"#636363",
			linewidth:1,
			tickmode:"auto",
			dtick:0.1,
			ticklen:10,
			minor:{
				ticks:"outside",
				ticklen:5,
				nticks:15,
			},
			mirror:true,
			rangemode:"tozero",
			range:g
		},
		showlegend:false,
		dragmode:false,
		scrollZoom:false,
		margin:{
			autoexpand:false,
			b:60,
			l:60,
			r:5,
			t:35
		}
	}
	Z = {
		displaylogo:false,
		toImageButtonOptions:{
			format:"png",
			filename:h,
			height:1080,
			width:1300,
			scale:1
		},
		modeBarButtonsToRemove:["autoScale2d","lasso2d","select2d","zoom2d"],
		displayModeBar:true,
		showAxisRangeEntryBoxes:false,
		showAxisDragHandles:false,
		showAxisRangeEntryBoxes:false,
		responsive:true,
		doubleClickDelay:10
	}
	Plotly.newPlot(F,X,Y,Z);
	b3();
	if(localStorage.getItem("CaddoMohammed-PuntosCartaPsicrometrica")!==null){
		a = localStorage.getItem("CaddoMohammed-PuntosCartaPsicrometrica")
		a = JSON.parse(a);
		d2(a);
	}
}
function b3(){
	if(T.H==undefined){
		return;
	}
	for(let i=0;i<7;i++){
		for(let j=0;j<T.H[i].length;j++){
			b4(T.H[i][j],i);
		}
	}
}
function b4(x,y){
	let a = document.createElement("div");
	a.className = "d-flex justify-content-between align-content-center m-2";
	let b = document.createElement("p");
	b.className = "m-1 p-1";
	b.innerHTML = x[3].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})+x[4];
	a.appendChild(b);
	let c  =  document.createElement("p");
	c.className = "mx-3"
	c.innerHTML = `<i class="bi bi-trash"></i>`;
	c.onclick = function(){
		a.remove();
		X = X.filter(b => b.name!==(x[3].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})+x[4]));
		T.H[y] = T.H[y].filter(b => !b.includes(x[3]));
		if(T.H[y].length===0){
			C[y+1].classList.add("d-none");
			D[y].classList.add("d-none");
		}
		localStorage.setItem("CaddoMohammed-CartaPsicrometrica",JSON.stringify(T));
		Plotly.react(F,X,Y,Z);
	}
	c.onmouseenter = function(){
		c.style.color = "var(--bs-danger)";
	}
	c.onmouseleave = function(){
		c.style.color = "var(--bs-body-color)";
	}
	a.appendChild(c);
	D[y].appendChild(a);
	if(C[0].classList.contains("d-none")){
		C[0].classList.remove("d-none");
	}
	if(C[y+1].classList.contains("d-none")){
		C[y+1].classList.remove("d-none");
	}
	if(D[y].classList.contains("d-none")){
		D[y].classList.remove("d-none");
	}
	X.push({
		x:x[0],
		y:x[1],
		mode:"lines",
		line:{
			color:x[2],
			width:2
		},
		name:x[3].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})+x[4]
	});
	Plotly.react(F,X,Y,Z);
}
function b5(){
	T.H = [[],[],[],[],[],[],[]];
	T.I = [];
	T.J = new Object();
	localStorage.setItem("CaddoMohammed-CartaPsicrometrica",JSON.stringify(T));
	b2(T);
}
function c1(z){
	if(!G[1].classList.contains("show")){
		if((z.key==="h")||z.key==="H"){
			c2(0);
		}
		if((z.key==="w")||z.key==="W"){
			c2(1);
		}
		if((z.key==="r")||z.key==="R"){
			c2(2);
		}
		if((z.key==="b")||z.key==="B"){
			c2(3);
		}
		if((z.key==="t")||z.key==="T"){
			c2(4);
		}
		if((z.key==="d")||z.key==="D"){
			c2(5);
		}
		if((z.key==="v")||z.key==="V"){
			c2(6);
		}
	}
	if(G[1].classList.contains("show")){
		if(z.key==="Enter"){
			c4();
		}
	}
}
function c2(x){
	S = x;
	switch(x){
		case 0:
			G[2].innerHTML = `Entalpía (<em>${T.G[0][0]}</em>)`;
			G[3].min = T.G[0][1];
			G[3].max = T.G[0][2];
			break;
		case 1:
			G[2].innerHTML = `Humedad específica (<em>${T.G[1][0]}</em>)`;
			G[3].min = T.G[1][1];
			G[3].max = T.G[1][2];
			break;
		case 2:
			G[2].innerHTML = `Humedad relativa (<em>${T.G[2][0]}</em>)`;
			G[3].min = T.G[2][1];
			G[3].max = T.G[2][2];
			break;
		case 3:
			G[2].innerHTML = `Temperatura de bulbo húmedo (<em>${T.G[3][0]}</em>)`;
			G[3].min = T.G[3][1];
			G[3].max = T.G[3][2];
			break;
		case 4:
			G[2].innerHTML = `Temperatura de bulbo seco (<em>${T.G[4][0]}</em>)`;
			G[3].min = T.G[4][1];
			G[3].max = T.G[4][2];
			break;
		case 5:
			G[2].innerHTML = `Temperatura de rocío (<em>${T.G[5][0]}</em>)`;
			G[3].min = T.G[5][1];
			G[3].max = T.G[5][2];
			break;
		case 6:
			G[2].innerHTML = `Volumen específico (<em>${T.G[6][0]}</em>)`;
			G[3].min = T.G[6][1];
			G[3].max = T.G[6][2];
			break;
	}
	G[3].value = "";
	G[3].classList.remove("is-invalid");
	G[7].innerHTML = "";
	G[0].click();
}
function c3(){
	clearTimeout(W);
	W = setTimeout(() => {
		if(isNaN(G[3].value)){
			G[3].classList.add("is-invalid");
			G[7].innerHTML = "Solamente números";
			return;
		}
		if((Number(G[3].value)==0)&&(G[3].value!=="0")){
			G[3].classList.add("is-invalid");
			G[7].innerHTML = "Ingrese un carácter valido";
			return;
		}
		if(G[3].value<T.G[S][[1]]){
			G[3].classList.add("is-invalid");
			G[7].innerHTML = `El valor minímo para ingresar es de ${T.G[S][1]}${T.G[S][0]}`;
			return;
		}
		if(G[3].value>T.G[S][[2]]){
			G[3].classList.add("is-invalid");
			G[7].innerHTML = `El valor máximo para ingresar es de ${T.G[S][2]}${T.G[S][0]}`;
			return;
		}
		G[3].classList.remove("is-invalid");
		G[7].innerHTML = "";
	},500);
}
function c4(){
	if(isNaN(G[3].value)){
		return;
	}
	if((Number(G[3].value)==0)&&(G[3].value!=="0")){
		return;
	}
	if(G[3].value<T.G[S][[1]]){
		return;
	}
	if(G[3].value>T.G[S][[2]]){
		return;
	}
	let a = 0;
	if(T.F===true){
		a = 1;
	}
	if(T.H!==undefined){
		if(T.H[S].some(b => b.includes(Number(G[3].value)))){
			G[3].classList.add("is-invalid");
			G[7].innerHTML = "Valor ya guardado";
			return;
		}
	}
	G[4].disabled = true;
	G[5].classList.remove("d-none");
	G[6].innerHTML = "Cargando...";
	fetch("https://cartapsicrometrica-a00-774000747273.us-central1.run.app/ttrgxdfvasdfhgfcvsxdf", {
		method:"POST",
		headers:{
			"Content-Type":"application/json",
		},
		body: JSON.stringify({A:S,B:a,C:T.E,D:Number(G[3].value),E:T.B[2][T.B[2].length-1]})
	})
	.then(u => u.json())
	.then(v => {
		b4(v[0],v[1]);
		G[0].click();
		G[4].disabled = false;
		G[5].classList.add("d-none");
		G[6].innerHTML = "Aceptar";
		if(T.H===undefined){
			T.H = [[],[],[],[],[],[],[]];
			T.I = [];
			T.J = new Object;
		}
		T.H[v[1]].push(v[0]);
		T.I.push([v[1],v[0][3]]);
		localStorage.setItem("CaddoMohammed-CartaPsicrometrica",JSON.stringify(T));
		d1();
	})
	.catch(k => console.error(k));
}
function c5(){
	if(G[8].style.transform==="rotate(0deg)"){
		G[8].style.transform = "rotate(90deg)";
		return;
	}
	if(G[8].style.transform==="rotate(90deg)"){
		G[8].style.transform = "rotate(0deg)";
		return;
	}
}
function d1(){
	let a = {
		A:Number(T.F),
		B:T.E,
		C:T.B[2][T.B[1].length-1],
		D:T.I
	}
	fetch("https://cartapsicrometrica-a00-774000747273.us-central1.run.app/ppoasakjzxgqhgahzbanq", {
		method:"POST",
		headers:{
			"Content-Type":"application/json",
		},
		body: JSON.stringify(a)
	})
	.then(u => u.json())
	.then(v => {
		localStorage.setItem("CaddoMohammed-PuntosCartaPsicrometrica",JSON.stringify(v));
		d2(v);
	})
	.catch(k => console.error(k));
}
function d2(v){
	document.getElementById("krtegujidfokjfh").innerHTML = "";
	for(let i=0;i<v.length;i++){
		let a = document.createElement("div");
		a.className = "accordion accordion-flush accordion-item";
		a.id = `BotonPunto-${i}`;
		a.innerHTML = 
			`<h2 class="accordion-header">
				<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#Punto-${i}" aria-expanded="false" aria-controls="Punto-${i}">
					Punto (${v[i][1][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})},${v[i][7][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})})
				</button>
			</h2>
			<div id="Punto-${i}" class="accordion-collapse collapse ms-3 p-1" data-bs-parent="#krtegujidfokjfh">
				<table class="table table-dark table-striped">
					<tbody>
						<tr class="table-dark">
							<td class="table-dark">Temperatura de bulbo seco</td>
							<td class="table-dark">${v[i][1][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][1][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Temperatura de bulbo húmedo</td>
							<td class="table-dark">${v[i][2][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][2][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Temperatura de rocío</td>
							<td class="table-dark">${v[i][3][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][3][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Presión del agua saturada</td>
							<td class="table-dark">${v[i][4][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][4][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Presión del vapor de agua en el aire</td>
							<td class="table-dark">${v[i][5][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][5][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Humedad específica del agua saturada</td>
							<td class="table-dark">${v[i][6][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][6][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Humedad específica</td>
							<td class="table-dark">${v[i][7][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][7][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Humedad relativa</td>
							<td class="table-dark">${v[i][8][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][8][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Entalpía</td>
							<td class="table-dark">${v[i][9][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][9][1]}</td>
						</tr>
						<tr class="table-dark">
							<td class="table-dark">Volumen específico</td>
							<td class="table-dark">${v[i][10][0].toLocaleString('en-US',{style:"decimal",maximunFractionDigits:4})} ${v[i][10][1]}</td>
						</tr>
					</tbody>
				</table>
				<!--div class="a1 a3 b1 c1 m1">
					<button type="button" class="btn btn-danger" onclick="d3(${i})">Borrar punto <i class="bi bi-trash3"></i></button>
				</div-->
			</div>`;
		X.push({ 
			x: [v[i][1][0]],
			y: [v[i][7][0]],
			mode: 'markers',
			type: 'scatter',
			marker: {
				size: 10,
			},
			name: `P<sub>${i+1}</sub>`
		});
		document.getElementById("krtegujidfokjfh").appendChild(a);
	}
	Plotly.react(F,X,Y,Z);
}